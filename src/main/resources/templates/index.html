<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<link rel="stylesheet" type="text/css" th:href="@{/css/style.css}">
<meta charset="UTF-8">
<title>ChatGPT</title>
</head>
<body>

<form th:action="@{/}" method="post">
	<label for="minutes">徒歩範囲~分以内</label>
	<input type="number" id="minutes" name="minutes"><br>
	
	<label for="purpose">検索内容</label>
	<input type="text" id="purpose" name="purpose">
	<button type="submit">送信</button>
</form>

<div id="map"></div>

<p th:text="${allPlacesString}"></p>

<div th:if="${allPlacesString} != null">
	<script th:inline="javascript">
		let allPlacesStrnig = /*[[${allPlacesString}]]*/ [];
		let allPlacesJson = JSON.parse(allPlacesStrnig);
	</script>
</div>
<div th:if="${allPlacesString} == null">
	<p>aaaa</p>
</div>

<script th:src="@{/js/map.js}" type="text/javascript"></script>

<div th:if="${googleApiKey != null}">
	<script async defer
	        th:src="'https://maps.googleapis.com/maps/api/js?key=' + ${googleApiKey} + '&callback=map'">
	</script>
</div>
</body>
</html>